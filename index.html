<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Page Template</title>
        <script type="text/javascript" src="../d3/d3.min.js"></script>
        <script src="https://d3js.org/d3-selection-multi.v0.4.min.js"></script>
        <style type="text/css">

            div.bar {
                display: inline-block;
                width: 20px;
                height: 75px;
                margin-right: 2px;
            }

        </style>
    </head>
    <body>
        <script type="text/javascript">
            // const dataset = [ 5, 10, 15, 20, 25 ]
            const dataset = [...new Array(100)].map(() => Math.round(Math.random() * 100))
            const w = 900
            const h = 100
            const barPadding = 1
            console.log("dataset", dataset)

            // Bar chart made with divs
            // d3.select("body").selectAll("div")
            //     .data(dataset)
            //     .enter()
            //     .append("div")
            //     .attr("class", "bar")
            //     .style("background-color", d => d < 50 ? "red" : "teal")
            //     .style("height", d => (d * 5) + "px")
            //
            // // Circle series made with svgs
            // const svg = d3.select("body")
            //                 .append("svg")
            //                 .attr("width", w)
            //                 .attr("height", h)
            // const circles = svg.selectAll("circle")
            //                     .data(dataset)
            //                     .enter()
            //                     .append("circle")
            // circles.attr("cx", (_, i) => (i * 50) + 25)
            //         .attr("cy", h/2)
            //         .attr("r", d => d)
            //         .attr("fill", "yellow")
            //         .attr("stroke", "orange")
            //         .attr("stroke-width", d => d/5)


            // x: function(d, i) { return i * (w / dataset.length); },
            // y: function(d) { return h - (d * 4); },
            // width: w / dataset.length - barPadding,
            // height: function(d) { return d * 4; },
            // fill: function(d) { return "rgb(0, 0, " + (d * 10) + ")"; }


            // Bar chart made with divs
            const svg = d3.select("body")
                            .append("svg")
                            .attr("width", w)
                            .attr("height", h)
            const rects = svg.selectAll("rect")
                                .data(dataset)
                                .enter()
                                .append("rect")
                                .attrs({
                                    x: function(d, i) { return i * (w / dataset.length); },
                                    y: function(d) { return h - (d * 4); },
                                    width: w / dataset.length - barPadding,
                                    height: function(d) { return d * 4; },
                                    fill: function(d) { return "rgb(0, 0, " + (d * 10) + ")"; }
                                })
        </script>
    </body>
</html>
